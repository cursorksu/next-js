{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\TestTasks\\\\next-js\\\\pages\\\\post\\\\[id].tsx\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\nimport { Layout } from \"../../components/Layout\";\nimport { Card } from \"../../components/Card\";\n\nvar Post = function Post(_ref) {\n  var post = _ref.post;\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, post.id), __jsx(Card, {\n    title: post.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  }, post.body), __jsx(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, post.comments.map(function (item) {\n    return __jsx(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 49\n      }\n    }, item);\n  }))));\n};\n\nPost.getInitialProps = function _callee(context) {\n  var id, res, show;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          id = context.query.id;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(\"https://api.tvmaze.com/shows/\".concat(id)));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 6:\n          show = _context.sent;\n          console.log(\"Fetched show: \".concat(show.name));\n          return _context.abrupt(\"return\", {\n            show: show\n          });\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nPost.getInitialProps = function _callee2(context) {\n  var id, posts, post;\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          id = context.query.id;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(axios.get(\"https://simple-blog-api.crew.red/posts/\".concat(id)));\n\n        case 3:\n          posts = _context2.sent;\n          post = posts.data;\n          return _context2.abrupt(\"return\", {\n            post: post\n          });\n\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Post;","map":{"version":3,"sources":["F:/TestTasks/next-js/pages/post/[id].tsx"],"names":["React","axios","Layout","Card","Post","post","id","title","body","comments","map","item","getInitialProps","context","query","fetch","res","json","show","console","log","name","get","posts","data"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,yBAAvB;AACA,SAASC,IAAT,QAAqB,uBAArB;;AAcA,IAAMC,IAAoB,GAAG,SAAvBA,IAAuB,OAAc;AAAA,MAAXC,IAAW,QAAXA,IAAW;AACvC,SACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAI,CAACC,EAAV,CADJ,EAEI,MAAC,IAAD;AAAM,IAAA,KAAK,EAAED,IAAI,CAACE,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,IAAI,CAACG,IAAX,CADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,IAAI,CAACI,QAAL,CAAcC,GAAd,CAAkB,UAAAC,IAAI;AAAA,WAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAL,CAAL;AAAA,GAAtB,CADL,CAHJ,CAFJ,CADJ;AAYH,CAbD;;AAgBAP,IAAI,CAACQ,eAAL,GAAuB,iBAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACXP,UAAAA,EADW,GACJO,OAAO,CAACC,KADJ,CACXR,EADW;AAAA;AAAA,2CAEDS,KAAK,wCAAiCT,EAAjC,EAFJ;;AAAA;AAEbU,UAAAA,GAFa;AAAA;AAAA,2CAGAA,GAAG,CAACC,IAAJ,EAHA;;AAAA;AAGbC,UAAAA,IAHa;AAKnBC,UAAAA,OAAO,CAACC,GAAR,yBAA6BF,IAAI,CAACG,IAAlC;AALmB,2CAOZ;AAAEH,YAAAA,IAAI,EAAJA;AAAF,WAPY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;;AAUAd,IAAI,CAACQ,eAAL,GAAuB,kBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACXP,UAAAA,EADW,GACJO,OAAO,CAACC,KADJ,CACXR,EADW;AAAA;AAAA,2CAECL,KAAK,CAACqB,GAAN,kDAAoDhB,EAApD,EAFD;;AAAA;AAEbiB,UAAAA,KAFa;AAGblB,UAAAA,IAHa,GAGNkB,KAAK,CAACC,IAHA;AAAA,4CAKZ;AACHnB,YAAAA,IAAI,EAAJA;AADG,WALY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;;AAUA,eAAeD,IAAf","sourcesContent":["import React from 'react';\r\nimport { NextPage, NextPageContext } from 'next';\r\nimport axios from 'axios';\r\nimport { Layout } from \"../../components/Layout\";\r\nimport { Card } from \"../../components/Card\";\r\n\r\ninterface Post {\r\n    id: string|number;\r\n    title: string;\r\n    body: string;\r\n    comments?: string[];\r\n}\r\n\r\n\r\ninterface Props {\r\n    post: Post;\r\n}\r\n\r\nconst Post:NextPage<Props> = ({ post }) => {\r\n    return (\r\n        <Layout>\r\n            <h1>{post.id}</h1>\r\n            <Card title={post.title}>\r\n                <div>{post.body}</div>\r\n\r\n                <ul>\r\n                    {post.comments.map(item => (<li>{item}</li>))}\r\n                </ul>\r\n            </Card>\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nPost.getInitialProps = async function(context) {\r\n    const { id } = context.query;\r\n    const res = await fetch(`https://api.tvmaze.com/shows/${id}`);\r\n    const show = await res.json();\r\n\r\n    console.log(`Fetched show: ${show.name}`);\r\n\r\n    return { show };\r\n};\r\n\r\nPost.getInitialProps = async (context) => {\r\n    const { id } = context.query;\r\n    const posts = await axios.get(`https://simple-blog-api.crew.red/posts/${id}`);\r\n    const post = posts.data;\r\n\r\n    return {\r\n        post,\r\n    };\r\n};\r\n\r\nexport default Post;"]},"metadata":{},"sourceType":"module"}