{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"F:\\\\TestTasks\\\\next-js\\\\pages\\\\post.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { Card } from '../components/Card';\nimport { Layout } from '../components/Layout';\nimport axios from \"axios\";\nvar BASE_URL = 'https://simple-blog-api.crew.red/posts';\nexport default function Posts() {\n  var router = useRouter();\n  console.log(router.pathname);\n\n  var _useState = useState(null),\n      currentPost = _useState[0],\n      setCurrentPost = _useState[1];\n\n  var getPost = function getPost() {\n    return _regeneratorRuntime.async(function getPost$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(BASE_URL, {\n              params: {\n                title: router.query.title\n              }\n            }).then(function (response) {\n              console.log(response.data);\n              var post = {\n                id: response.data[0].id,\n                title: response.data[0].title,\n                body: response.data[0].body\n              };\n              setCurrentPost(post);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getLatestPost = function getLatestPost() {\n    return _regeneratorRuntime.async(function getLatestPost$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(BASE_URL).then(function (response) {\n              var post = {\n                id: response.data[response.data.length - 1].id,\n                title: response.data[response.data.length - 1].title,\n                body: response.data[response.data.length - 1].body\n              };\n              setCurrentPost(post);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }; // useEffect(() => {\n  //     switch () {\n  //         case :\n  //             getLatestPost();\n  //             break\n  //         default:\n  //             getPost();\n  //     }\n  // }, []);\n\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, __jsx(Card, {\n    title: router.query.title.toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, router.query.title), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"fg\")));\n}","map":{"version":3,"sources":["F:/TestTasks/next-js/pages/post.tsx"],"names":["React","useState","useRouter","Card","Layout","axios","BASE_URL","Posts","router","console","log","pathname","currentPost","setCurrentPost","getPost","get","params","title","query","then","response","data","post","id","body","getLatestPost","length","toString"],"mappings":";;;AAAA,OAAOA,KAAP,IAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,IAAT,QAAqB,oBAArB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAE,wCAAhB;AAEA,eAAe,SAASC,KAAT,GAAiB;AAC5B,MAAMC,MAAM,GAAGN,SAAS,EAAxB;AACJO,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,QAAnB;;AAFgC,kBAGSV,QAAQ,CAAY,IAAZ,CAHjB;AAAA,MAGtBW,WAHsB;AAAA,MAGTC,cAHS;;AAK5B,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACPT,KAAK,CAACU,GAAN,CAAWT,QAAX,EAAqB;AACtBU,cAAAA,MAAM,EAAE;AACJC,gBAAAA,KAAK,EAAET,MAAM,CAACU,KAAP,CAAaD;AADhB;AADc,aAArB,EAIFE,IAJE,CAIG,UAAAC,QAAQ,EAAI;AAChBX,cAAAA,OAAO,CAACC,GAAR,CAAYU,QAAQ,CAACC,IAArB;AAEA,kBAAMC,IAAI,GAAG;AACTC,gBAAAA,EAAE,EAAEH,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBE,EADZ;AAETN,gBAAAA,KAAK,EAAEG,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBJ,KAFf;AAGTO,gBAAAA,IAAI,EAAEJ,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBG;AAHd,eAAb;AAMAX,cAAAA,cAAc,CAACS,IAAD,CAAd;AACH,aAdI,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAkBA,MAAMG,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACZpB,KAAK,CAACU,GAAN,CAAUT,QAAV,EACDa,IADC,CACI,UAASC,QAAT,EAAmB;AACrB,kBAAME,IAAI,GAAG;AACTC,gBAAAA,EAAE,EAAEH,QAAQ,CAACC,IAAT,CAAcD,QAAQ,CAACC,IAAT,CAAcK,MAAd,GAAuB,CAArC,EAAwCH,EADnC;AAETN,gBAAAA,KAAK,EAAEG,QAAQ,CAACC,IAAT,CAAcD,QAAQ,CAACC,IAAT,CAAcK,MAAd,GAAuB,CAArC,EAAwCT,KAFtC;AAGTO,gBAAAA,IAAI,EAAEJ,QAAQ,CAACC,IAAT,CAAcD,QAAQ,CAACC,IAAT,CAAcK,MAAd,GAAuB,CAArC,EAAwCF;AAHrC,eAAb;AAMAX,cAAAA,cAAc,CAACS,IAAD,CAAd;AACH,aATC,CADY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB,CAvB4B,CAqC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEd,MAAM,CAACU,KAAP,CAAaD,KAAb,CAAmBU,QAAnB,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKnB,MAAM,CAACU,KAAP,CAAaD,KAAlB,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADJ,CADJ;AAQH","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { Card } from '../components/Card';\r\nimport { Layout } from '../components/Layout';\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL ='https://simple-blog-api.crew.red/posts';\r\n\r\nexport default function Posts() {\r\n    const router = useRouter();\r\nconsole.log(router.pathname)\r\n    const[currentPost, setCurrentPost] = useState<Post|null>(null);\r\n\r\n    const getPost = async () => {\r\n       await axios.get( BASE_URL, {\r\n            params: {\r\n                title: router.query.title,\r\n            }\r\n        }).then(response => {\r\n            console.log(response.data);\r\n\r\n            const post = {\r\n                id: response.data[0].id,\r\n                title: response.data[0].title,\r\n                body: response.data[0].body,\r\n            };\r\n\r\n            setCurrentPost(post)\r\n        });\r\n    };\r\n\r\n    const getLatestPost = async  () => {\r\n        await axios.get(BASE_URL)\r\n            .then(function(response) {\r\n                const post = {\r\n                    id: response.data[response.data.length - 1].id,\r\n                    title: response.data[response.data.length - 1].title,\r\n                    body: response.data[response.data.length - 1].body,\r\n                };\r\n\r\n                setCurrentPost(post)\r\n            })\r\n    };\r\n\r\n\r\n    // useEffect(() => {\r\n    //     switch () {\r\n    //         case :\r\n    //             getLatestPost();\r\n    //             break\r\n    //         default:\r\n    //             getPost();\r\n    //     }\r\n    // }, []);\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <Card title={router.query.title.toString()}>\r\n                <h1>{router.query.title}</h1>\r\n                <p>fg</p>\r\n            </Card>\r\n        </Layout>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}