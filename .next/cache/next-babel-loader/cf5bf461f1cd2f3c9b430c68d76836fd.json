{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport { Modal } from '../../components/Modal';\nimport { Layout } from '../../components/Layout';\nimport { Form } from '../../components/Form';\nimport { Card } from '../../components/Card';\nconst BASE_URL = 'https://simple-blog-api.crew.red/posts';\n\nconst New = () => {\n  const {\n    0: isModalOpen,\n    1: setIsModalOpen\n  } = useState(false);\n  const {\n    0: currentTitle,\n    1: setCurrentTitle\n  } = useState('');\n  const router = useRouter();\n\n  const setNewPost = async post => {\n    setCurrentTitle(post.title);\n    setIsModalOpen(true);\n    await axios({\n      method: 'post',\n      url: `${BASE_URL}`,\n      data: post\n    });\n  };\n\n  const closeModal = async () => {\n    await router.push('/');\n    setIsModalOpen(false);\n    setCurrentTitle('');\n  };\n\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars,@typescript-eslint/explicit-function-return-type\n    function handleRemoveClick() {\n      document.removeEventListener('click', closeModal);\n    }\n  }, []);\n  return __jsx(Layout, null, __jsx(Card, {\n    heading: \"Create new post now!\"\n  }, __jsx(Form, {\n    onSubmitForm: setNewPost\n  })), isModalOpen && __jsx(Modal, {\n    onClose: closeModal,\n    title: currentTitle\n  }, __jsx(\"p\", null, \"Success!!!\"), __jsx(\"p\", null, \"The post was successfully added!\")));\n};\n\nexport default New;","map":null,"metadata":{},"sourceType":"module"}