{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { SORT_BY_ID, SORT_BY_USER, SORT_BY_COMPLETED, SET_TODOS, SET_IS_LOADING, SORT_BY_TITLE, SET_IS_LOADED, REMOVE_TODO } from './actionCreators';\nvar initialState = {\n  todos: [],\n  isLoading: false,\n  isLoaded: false\n};\nexport var reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_TODOS:\n      return _objectSpread({}, state, {\n        todos: action.todos\n      });\n\n    case SET_IS_LOADING:\n      return _objectSpread({}, state, {\n        isLoading: !state.isLoading\n      });\n\n    case SET_IS_LOADED:\n      return _objectSpread({}, state, {\n        isLoaded: !state.isLoaded\n      });\n\n    case SORT_BY_TITLE:\n      if (action.todos.length) {\n        return _objectSpread({}, state, {\n          todos: _toConsumableArray(state.todos).sort(function (a, b) {\n            return a.title.localeCompare(b.title);\n          })\n        });\n      }\n\n      return state;\n\n    case SORT_BY_ID:\n      if (action.todos.length) {\n        return _objectSpread({}, state, {\n          todos: _toConsumableArray(state.todos).sort(function (a, b) {\n            return a.id - b.id;\n          })\n        });\n      }\n\n      return state;\n\n    case SORT_BY_USER:\n      if (action.todos.length) {\n        return _objectSpread({}, state, {\n          todos: _toConsumableArray(state.todos).sort(function (a, b) {\n            return a.user.name.localeCompare(b.user.name);\n          })\n        });\n      }\n\n      return state;\n\n    case SORT_BY_COMPLETED:\n      if (action.todos.length) {\n        return _objectSpread({}, state, {\n          todos: _toConsumableArray(state.todos).sort(function (a, b) {\n            return Number(a.completed) - Number(b.completed);\n          })\n        });\n      }\n\n      return state;\n\n    case REMOVE_TODO:\n      return _objectSpread({}, state, {\n        todos: state.todos.filter(function (todo) {\n          return todo.id !== action.id;\n        })\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["F:/TestTasks/next-js/store/reducer.ts"],"names":["SORT_BY_ID","SORT_BY_USER","SORT_BY_COMPLETED","SET_TODOS","SET_IS_LOADING","SORT_BY_TITLE","SET_IS_LOADED","REMOVE_TODO","initialState","todos","isLoading","isLoaded","reducer","state","action","type","length","sort","a","b","title","localeCompare","id","user","name","Number","completed","filter","todo"],"mappings":";;;;;;;AAAA,SACEA,UADF,EAEEC,YAFF,EAGEC,iBAHF,EAIEC,SAJF,EAKEC,cALF,EAMEC,aANF,EAOEC,aAPF,EAQEC,WARF,QASO,kBATP;AAWA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,EADY;AAEnBC,EAAAA,SAAS,EAAE,KAFQ;AAGnBC,EAAAA,QAAQ,EAAE;AAHS,CAArB;AAMA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAA2D;AAAA,MAA1DC,KAA0D,uEAAtCL,YAAsC;AAAA,MAAxBM,MAAwB;;AAChF,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKZ,SAAL;AACE,+BACKU,KADL;AAEEJ,QAAAA,KAAK,EAAEK,MAAM,CAACL;AAFhB;;AAIF,SAAKL,cAAL;AACE,+BACKS,KADL;AAEEH,QAAAA,SAAS,EAAE,CAACG,KAAK,CAACH;AAFpB;;AAIF,SAAKJ,aAAL;AACE,+BACKO,KADL;AAEEF,QAAAA,QAAQ,EAAE,CAACE,KAAK,CAACF;AAFnB;;AAIF,SAAKN,aAAL;AACE,UAAIS,MAAM,CAACL,KAAP,CAAaO,MAAjB,EAAyB;AACvB,iCACKH,KADL;AAEEJ,UAAAA,KAAK,EAAE,mBAAII,KAAK,CAACJ,KAAV,EACJQ,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,CAACE,KAAF,CAAQC,aAAR,CAAsBF,CAAC,CAACC,KAAxB,CAAV;AAAA,WADD;AAFT;AAKD;;AAED,aAAOP,KAAP;;AACF,SAAKb,UAAL;AACE,UAAIc,MAAM,CAACL,KAAP,CAAaO,MAAjB,EAAyB;AACvB,iCACKH,KADL;AAEEJ,UAAAA,KAAK,EAAE,mBAAII,KAAK,CAACJ,KAAV,EACJQ,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,CAAC,CAACI,EAAF,GAAOH,CAAC,CAACG,EAAnB;AAAA,WADD;AAFT;AAKD;;AAED,aAAOT,KAAP;;AACF,SAAKZ,YAAL;AACE,UAAIa,MAAM,CAACL,KAAP,CAAaO,MAAjB,EAAyB;AACvB,iCACKH,KADL;AAEEJ,UAAAA,KAAK,EAAE,mBAAII,KAAK,CAACJ,KAAV,EACJQ,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACZ,mBAAOD,CAAC,CAACK,IAAF,CAAOC,IAAP,CAAYH,aAAZ,CAA0BF,CAAC,CAACI,IAAF,CAAOC,IAAjC,CAAP;AACH,WAHI;AAFT;AAOD;;AAED,aAAOX,KAAP;;AACF,SAAKX,iBAAL;AACE,UAAIY,MAAM,CAACL,KAAP,CAAaO,MAAjB,EAAyB;AACvB,iCACKH,KADL;AAEEJ,UAAAA,KAAK,EAAE,mBAAII,KAAK,CAACJ,KAAV,EACJQ,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACd,mBAAOM,MAAM,CAACP,CAAC,CAACQ,SAAH,CAAN,GAAsBD,MAAM,CAACN,CAAC,CAACO,SAAH,CAAnC;AACD,WAHI;AAFT;AAOD;;AAED,aAAOb,KAAP;;AACF,SAAKN,WAAL;AACE,+BACKM,KADL;AAEEJ,QAAAA,KAAK,EAAEI,KAAK,CAACJ,KAAN,CAAYkB,MAAZ,CAAmB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACN,EAAL,KAAYR,MAAM,CAACQ,EAAvB;AAAA,SAAvB;AAFT;;AAIF;AACE,aAAOT,KAAP;AAlEJ;AAoED,CArEM","sourcesContent":["import {\n  SORT_BY_ID,\n  SORT_BY_USER,\n  SORT_BY_COMPLETED,\n  SET_TODOS,\n  SET_IS_LOADING,\n  SORT_BY_TITLE,\n  SET_IS_LOADED,\n  REMOVE_TODO,\n} from './actionCreators';\n\nconst initialState = {\n  todos: [],\n  isLoading: false,\n  isLoaded: false,\n};\n\nexport const reducer = (state: TodosState = initialState, action: TodosAction) => {\n  switch (action.type) {\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: action.todos,\n      };\n    case SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n    case SET_IS_LOADED:\n      return {\n        ...state,\n        isLoaded: !state.isLoaded,\n      };\n    case SORT_BY_TITLE:\n      if (action.todos.length) {\n        return {\n          ...state,\n          todos: [...state.todos]\n            .sort((a, b) => a.title.localeCompare(b.title)),\n        };\n      }\n\n      return state;\n    case SORT_BY_ID:\n      if (action.todos.length) {\n        return {\n          ...state,\n          todos: [...state.todos]\n            .sort((a, b) => a.id - b.id),\n        };\n      }\n\n      return state;\n    case SORT_BY_USER:\n      if (action.todos.length) {\n        return {\n          ...state,\n          todos: [...state.todos]\n            .sort((a, b) => {\n                return a.user.name.localeCompare(b.user.name);\n            }),\n        };\n      }\n\n      return state;\n    case SORT_BY_COMPLETED:\n      if (action.todos.length) {\n        return {\n          ...state,\n          todos: [...state.todos]\n            .sort((a, b) => {\n              return Number(a.completed) - Number(b.completed);\n            }),\n        };\n      }\n\n      return state;\n    case REMOVE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.id),\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}