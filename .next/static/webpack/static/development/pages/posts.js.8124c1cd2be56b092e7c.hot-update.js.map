{"version":3,"file":"static/webpack/static\\development\\pages\\posts.js.8124c1cd2be56b092e7c.hot-update.js","sources":["webpack:///./pages/posts.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios  from 'axios';\r\nimport { Layout } from '../components/Layout'\r\nimport { s } from'./PostStyles';\r\n\r\nconst BASE_URL ='https://simple-blog-api.crew.red/posts'\r\n\r\nexport default function Posts() {\r\n    const [ posts, setPosts ] = useState ([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(BASE_URL)\r\n            .then(function (response) {\r\n                const postList = response.data.reverse();\r\n                setPosts(postList);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n            .finally(function () {\r\n\r\n            });\r\n    }, []);\r\n\r\n    const handleClickEdit = (id) => {\r\n        console.log(id)\r\n    };\r\n\r\n    const handleClickDelete = (id) => {\r\n        axios.delete(`${BASE_URL}/${id}`);\r\n        setPosts(posts.filter(post => post.id !== id));\r\n    };\r\n\r\n    return (\r\n        <Layout>\r\n            <s.List>\r\n                {posts.map(post => (\r\n                <s.Item key={`${post.id}-${post.title} `}>\r\n                    <s.ItemWrapper className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <div className=\"card-title\">{`#${post.id} ${post.title}`}</div>\r\n                            <button type=\"button\" onClick={handleClickEdit}className=\"btn-edit\">\r\n                                Edit\r\n                            </button>\r\n                            <button type=\"button\" onClick={() => handleClickDelete(post.id)}className=\"btn-delete\">\r\n                                Delete\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"card-body\">{post.body}</div>\r\n                    </s.ItemWrapper>\r\n                </s.Item>\r\n                ))}\r\n            </s.List>\r\n        </Layout>\r\n    );\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAZA;AAmBA;;;;A","sourceRoot":""}