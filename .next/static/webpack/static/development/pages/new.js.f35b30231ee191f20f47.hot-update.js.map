{"version":3,"file":"static/webpack/static\\development\\pages\\new.js.f35b30231ee191f20f47.hot-update.js","sources":["webpack:///./pages/new.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { v4 } from 'uuid';\r\nimport axios from 'axios';\r\nimport { Layout  } from '../components/Layout';\r\nimport { s } from './styles/PostStyles';\r\n\r\nconst BASE_URL ='https://simple-blog-api.crew.red/posts';\r\n\r\nexport default function New() {\r\n    const[post, setPost] = useState({ id: 0, title: '', body: ''})\r\n    const[error, setError] = useState('')\r\n\r\n    const handleSubmitCreate = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if(!post.title || !post.body) {\r\n            setError('Why do you want to send an empty post? Write something!');\r\n            return;\r\n        }\r\n\r\n        await axios({\r\n            method: 'post',\r\n            url: `${BASE_URL}`,\r\n            data: post,\r\n        });\r\n\r\n        setPost({ id: 0, title: '', body: ''});\r\n    };\r\n\r\n    const handleTitle = (event) => {\r\n        const id = v4().substring(0, 6);\r\n        setError('');\r\n        setPost({\r\n            ...post,\r\n            id: id,\r\n            title: event.target.value,\r\n        });\r\n    };\r\n\r\n    const handleBody = (event) => {\r\n        setError('');\r\n        setPost({\r\n            ...post,\r\n            body: event.target.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n           <s.Title>Create new post now.</s.Title>\r\n            <s.Item>\r\n                <s.ItemWrapper>\r\n                    <form action=\"#\" onSubmit={handleSubmitCreate}>\r\n                        {error && <p>{error}</p>}\r\n                        <label htmlFor=\"title\">\r\n                            <input\r\n                                placeholder=\"Input Title of Post\"\r\n                                id=\"title\"\r\n                                type=\"text\"\r\n                                value={post.title}\r\n                                onChange={handleTitle}\r\n                            />\r\n                        </label>\r\n                        <label htmlFor=\"body\">\r\n                    <textarea\r\n                        placeholder=\"Input Body of Post\"\r\n                        id=\"body\"\r\n                        value={post.body}\r\n                        onChange={handleBody}\r\n                    />\r\n                        </label>\r\n                        <button type=\"submit\">Create post</button>\r\n                    </form>\r\n                </s.ItemWrapper>\r\n            </s.Item>\r\n        </Layout>\r\n    );\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AAGA;AAJA;AACA;AADA;AAAA;AAAA;AASA;AACA;AACA;AAHA;AACA;AATA;AAcA;AAAA;AAAA;AAAA;AAAA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgBA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}