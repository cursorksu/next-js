{"version":3,"file":"static/webpack/static\\development\\pages\\post.js.1074cd7670bd041c7ef6.hot-update.js","sources":["webpack:///./pages/post.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { Card } from '../components/Card';\r\nimport { Layout } from '../components/Layout';\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL ='https://simple-blog-api.crew.red/posts';\r\n\r\nexport default function Posts() {\r\n    const router = useRouter();\r\nconsole.log(router)\r\n    const[currentPost, setCurrentPost] = useState<Post|null>(null);\r\n\r\n    const getPost = async () => {\r\n       await axios.get( BASE_URL, {\r\n            params: {\r\n                title: router.query.title,\r\n            }\r\n        }).then(response => {\r\n            console.log(response.data);\r\n\r\n            const post = {\r\n                id: response.data[0].id,\r\n                title: response.data[0].title,\r\n                body: response.data[0].body,\r\n            };\r\n\r\n            setCurrentPost(post)\r\n        });\r\n    };\r\n\r\n    const getLatestPost = async  () => {\r\n        await axios.get(BASE_URL)\r\n            .then(function(response) {\r\n                const post = {\r\n                    id: response.data[response.data.length - 1].id,\r\n                    title: response.data[response.data.length - 1].title,\r\n                    body: response.data[response.data.length - 1].body,\r\n                };\r\n\r\n                setCurrentPost(post)\r\n            })\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        getLatestPost();\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <Card title={router.query.title.toString()}>\r\n                <h1>{router.query.title}</h1>\r\n                <p>{currentPost.body}</p>\r\n            </Card>\r\n        </Layout>\r\n    );\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AADA;AAKA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}